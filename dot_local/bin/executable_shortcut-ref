#!/bin/bash
# Shortcut & Alias Reference Tool

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    KEYBOARD SHORTCUTS                        â•‘"
echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
echo "â•‘  COSMIC Custom Shortcuts:                                    â•‘"
echo "â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢"

SHORTCUTS_FILE="$HOME/.config/cosmic/com.system76.CosmicSettings.Shortcuts/v1/custom"

if [[ -f "$SHORTCUTS_FILE" ]]; then
    # Parse the RON format - descriptions come before keys in blocks
    awk '
    BEGIN { RS="\\),"; FS="\n" }
    {
        desc = ""; key = ""; mods = ""
        for (i=1; i<=NF; i++) {
            if ($i ~ /description: Some/) {
                gsub(/.*description: Some\("/, "", $i)
                gsub(/".*/, "", $i)
                desc = $i
            }
            if ($i ~ /key: "/) {
                gsub(/.*key: "/, "", $i)
                gsub(/".*/, "", $i)
                key = $i
            }
            if ($i ~ /Super/) mods = mods "Super+"
            if ($i ~ /Ctrl/) mods = mods "Ctrl+"
            if ($i ~ /Alt/) mods = mods "Alt+"
            if ($i ~ /Shift/) mods = mods "Shift+"
        }
        if (key != "" && desc != "") {
            printf "    %-32s â†’ %s\n", mods key, desc
        }
    }
    ' "$SHORTCUTS_FILE" | sort -u
fi

echo "â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢"
echo "â•‘  Built-in COSMIC Shortcuts:                                  â•‘"
echo "â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢"
echo "    Super                      â†’ App Launcher"
echo "    Super + A                  â†’ Applications"
echo "    Super + Q                  â†’ Close Window"
echo "    Super + M                  â†’ Maximize/Restore"
echo "    Ctrl + Alt + Left/Right    â†’ Switch Workspace"
echo "    Ctrl + Alt + Shift + â†/â†’   â†’ Move Window to Workspace"
echo "    Super + Shift + S          â†’ Screenshot"

echo "â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢"
echo "â•‘  Media Controls:                                             â•‘"
echo "â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢"
echo "    XF86AudioPlay              â†’ Play/Pause"
echo "    XF86AudioNext              â†’ Next Track"
echo "    XF86AudioPrev              â†’ Previous Track"

echo "â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢"
echo "â•‘  Shell Functions & Aliases (from ~/.zshrc):                  â•‘"
echo "â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢"

# Quick Navigation
echo "    ğŸ“ Navigation & Discovery:"
echo "       z <dir>          â†’ Jump to frequent directories (zoxide)"
echo "       fcd              â†’ Fuzzy find & cd into directory (fzf)"
echo "       fopen            â†’ Fuzzy find & open file in editor (fzf)"
echo "       fh               â†’ Search shell history (fzf)"
echo "       mkcd <dir>       â†’ Create directory and cd into it"
echo ""

# File Operations
echo "    ğŸ“„ File Operations:"
echo "       extract <file>   â†’ Auto-extract any archive format"
echo "       lt               â†’ Tree view (eza)"
echo "       lta              â†’ Tree view including hidden files"
echo "       bat/cat          â†’ View files with syntax highlighting"
echo "       fd               â†’ Fast alternative to find"
echo "       rg               â†’ Fast alternative to grep"
echo ""

# Git Shortcuts
echo "    ğŸ“¦ Git Shortcuts:"
echo "       gac <msg>        â†’ git add -A + commit"
echo "       gacp <msg>       â†’ git add -A + commit + push"
echo "       gclone <url>     â†’ Clone repo and cd into it"
echo ""

# System Utilities
echo "    ğŸ–¥ï¸  System Utilities:"
echo "       ff               â†’ Show system info (fastfetch)"
echo "       shortcuts        â†’ Show this reference"
echo "       reload           â†’ Reload shell configuration"
echo "       path             â†’ Show PATH entries (one per line)"
echo "       myip             â†’ Show public IP address"
echo "       localip          â†’ Show local IP address"
echo "       disk             â†’ Interactive disk usage (ncdu)"
echo "       ports            â†’ Show listening ports"
echo "       mem              â†’ Show memory usage"
echo "       top              â†’ System monitor (btop)"
echo "       psg <term>       â†’ Search running processes"
echo ""

# Development Tools
echo "    ğŸ› ï¸  Development:"
echo "       serve [port]     â†’ Start HTTP server (default 8000)"
echo "       weather [city]   â†’ Show terminal weather"
echo "       cheat <topic>    â†’ Quick cheat sheets (cheat.sh)"
echo "       uvp              â†’ Install package with uv + pipx"
echo ""

echo "â•‘  For full alias list: Run 'alias' in terminal               â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ’¡ Tip: Run 'wev -f wl_keyboard' to detect key names for new shortcuts."
echo "ğŸ“– See AGENTS.md for AI assistant preferred tools and patterns."
echo ""
